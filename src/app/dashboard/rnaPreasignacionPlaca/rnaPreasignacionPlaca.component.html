<div class="container" >
  <hr>
  <div class="row" *ngIf='formIndex'>
    <div class="col-md-12">
      <div class="card">
          <div class="card-header">
            <h5 class="card-title">Vehículo <small>Preasignación de placa</small></h5>
          </div>
          <div class="card-body">
            <div class="row"><!-- .row -->
              <div class="col-xs-12 col-lg-12">
                  <div class="input-group" [ngClass]="{'has-danger' : isError,'has-success': isExist}">
                    <!-- <input type="text" class="form-control" placeholder="Número de factura" [(ngModel)]="numeroFactura.numeroFactura" name="numeroFactura" required /> -->
                    <input type="text" class="form-control" placeholder="Vin,Chasis,Motor,Serie" [(ngModel)]="vehiculoCriterio" name="placaVehiculo" required />
                    <span class="input-group-btn">
                        <button (click)="onKeyValidateVehiculo()" [ngClass]="{'btn-danger' : isError}" class="btn btn-default btn-success" ngxclipboard="" type="button"><i class="fa fa-search"></i></button>
                    </span>
                  </div>
                  <div class="has-danger" *ngIf="isError" >
                    <div class="form-control-feedback has-danger has-error">{{msj}}</div><br>
                  </div>

                  <div class="has-success" *ngIf="isExist" >
                    <div class="form-control-feedback has-danger has-success">{{msj}}</div><br>
                    
                    <!-- tabla de detalles del vehiculo sin placa -->
                    <div class="col-xs-12 col-lg-12" >
                        <h5 class="card-title">Detalles del vehiculo <small> Encontrado</small></h5>
                        <table class="table table-bordered">
                            <thead>
                              <tr>
                                  <th><b>Nro.Factura</b></th>
                                  <th><b>Servicio</b></th>
                                  <th><b>Clases de vehículo</b></th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr>
                                  <td>
                                  {{vehiculo.numeroFactura}}
                                  </td>
                                  <td> 
                                  {{vehiculo.servicio.nombre}}
                                  </td>
                                  <td> 
                                  {{vehiculo.clase.nombre}}
                                  </td>
                              </tr>
                            </tbody> 
                            <thead>
                              <tr>
                                <th><b>Nro.Motor</b></th>
                                <th><b>Nro.Chasis</b></th>
                                <th><b>Nro.Serie</b></th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr>
                                  <td>
                                  {{vehiculo.motor}}
                                  </td>
                                  <td> 
                                      {{vehiculo.chasis}}
                                  </td>
                                  <td> 
                                      {{vehiculo.serie}}
                                  </td>
                              </tr>
                            </tbody> 
                            <thead>
                              <tr>
                                <th><b>Nro.VIN</b></th>
                                <th><b>Nro.Factura compra venta</b></th>
                                <th><b>Fecha compra venta</b></th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr>
                                  <td>
                                  {{vehiculo.vin}}
                                  </td>
                                  <td> 
                                      {{vehiculo.numeroFactura}}
                                  </td>
                                  <td> 
                                      {{vehiculo.fechaFactura}}
                                  </td>
                              </tr>
                            </tbody> 
                        </table>
                    </div><!-- fin detalles del vehiculo -->
  
                    <!-- tabla de detalles del vehiculo sin placa -->
                    <div class="col-xs-12 col-lg-12" >
                        <h5 class="card-title">Tramite de preasignación de placa</h5>   
                        <div class="col-xs-12 col-lg-6">
                          <hr>
                          <label>Sede Operativa <span class="text-danger">*</span></label><br>
                          <ng-select
                            [multiple]="false"
                            [options]="sedesOperativas"
                            [(ngModel)]="sedeOperativaSelected"
                            (ngModelChange)="changedSedeOperativa($event)"
                            required
                            name="sedeOperativaId">
                          </ng-select>
                        </div><br>

                        <div class="col-xs-12 col-lg-6">
                            <label>Seleccione placa <span class="text-danger">*</span></label><br>
                            <ng-select
                              [multiple]="false"
                              [options]="cfgPlacas"
                              [(ngModel)]="cfgPlacaSelected"
                              required
                              name="placasId">
                            </ng-select>
                        </div><br>

                        <div class="btn-group">
                            <button (click)="onCancelar()" class="btn btn-outline-secondary" type="button">Cancelar</button>
                            <button (click)="onEnviar()"  class="btn btn-outline-primary" type="button"><i class="fa fa-floppy-o"></i>Enviar</button>
                        </div>

                    </div>

                  </div>
              </div>
            </div>
          </div>
      </div>
    </div>
  </div>
</div>